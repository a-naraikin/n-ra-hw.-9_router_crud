{"version":3,"sources":["context/CardContext.js","img/avatar.jpg","components/User.jsx","components/PostCard.jsx","components/Posts.jsx","hooks/useFetch.js","components/PostNew.jsx","components/PostView.jsx","components/PostEdit.jsx","App.js","reportWebVitals.js","index.js"],"names":["CardContext","React","createContext","User","className","src","avatar","alt","PostCard","props","post","create","useContext","to","id","onClick","content","created","Posts","url","options","useState","data","error","state","setState","useEffect","fetchData","fetch","response","json","useFetch","process","map","PostNew","value","setValue","click","setClick","onSubmit","e","preventDefault","trim","body","method","headers","JSON","stringify","then","result","catch","err","console","log","onChange","target","type","PostView","clickDel","setClickDel","clickEdit","setClickEdit","PostEdit","App","Provider","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98421bb0.chunk.js","sourcesContent":["import React from 'react';\n\nconst CardContext = React.createContext({});\nexport default CardContext;","export default __webpack_public_path__ + \"static/media/avatar.cf4d026d.jpg\";","import avatar from '../img/avatar.jpg';\n\nexport default function User() {\n  return (\n    <header>\n      <div className='img'>\n        <img src={avatar} alt='person'></img>\n      </div>\n      <h3 className='user'>Ivan Ivanov</h3>\n    </header>\n  );\n}\n","import { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport CardContext from '../context/CardContext';\nimport User from './User';\n\nexport default function PostCard(props) {\n\tconst { post } = props;\n\tconst create = useContext(CardContext);\n\n\tconst onClick = () => {\n\t\tcreate.id = post.id;\n\t\tcreate.content = post.content;\n\t\tcreate.created = post.created;\n\t}\n\n  return (\n\t\t<Link to={`/posts/${post.id}`}>\n\t\t\t<li className='card' onClick={onClick}>\n\t\t\t\t<User />\n\t\t\t\t<p className='content'>{post.content}</p>\n\t\t\t</li>\n\t  </Link>\n  );\n}\n","import { Link } from 'react-router-dom';\nimport useFetch from '../hooks/useFetch';\nimport PostCard from './PostCard';\n\nexport default function Posts() {\n  const { data, error } = useFetch(`${process.env.REACT_APP_URL}/posts`);\n\n  return (\n    <ul className='list'>\n\t\t\t<li className='card card_btn'>\n\t\t\t\t<Link to='/posts/new' className='btn'>Создать пост</Link>\n\t\t\t</li>\n\t\t\t\t{error && <li className='error'>Ошибка!</li>}\n\t\t\t\t{data && data.map((post) => <PostCard key={post.id} post={post} />)}  \n    </ul> \n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\n\nexport default function useFetch(url, options) {\n  const [state, setState] = useState({\n    data: null,\n    error: null\n  });\n\n  useEffect(() => {\n    if (!url) return null;\n\n    const fetchData = async () => {\n      try {\n        const response = await fetch(url, options);\n        const data = await response.json();\n        setState({ data });\n      } catch (error) {\n        setState({ error });\n      }       \n    }\n\n    fetchData();\n  }, [url]);\n\n  return state;\n}\n","import { Link, Redirect } from 'react-router-dom';\nimport { useState } from 'react';\n\nexport default function PostNew() {\n  const [value, setValue] = useState('');\n  const [click, setClick] = useState(false);\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    if (!value.trim()) return;\n\n    const body = {id: 0, content: value};\n    \n    try {\n      fetch(`${process.env.REACT_APP_URL}/posts`, { \n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(body)\n        })\n        .then(response => response)\n        .then(result => {\n          setValue('');\n          setClick(true);\n        })\n        .catch(err => console.log(err));\n    } catch (err) {\n      console.log(err);\n    }\n    \n  };\n\n  return (\n    <div className='postNew'>\n      <div className='postNew_wrap'>\n        <Link to=\"/\" className='btn_close'>&#10006;</Link>\n        <form className='form' onSubmit={onSubmit}>\n          <textarea className='textarea' value={value} onChange={onChange}></textarea>\n          <button type='submit' className='btn'>Опубликовать\n            {click ? <Redirect to='/' /> : null}\n          </button>\n        </form>\n      </div> \n    </div>\n  );\n}\n","import { useContext, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport CardContext from \"../context/CardContext\";\nimport User from './User';\n\nexport default function PostView() {\n  const create = useContext(CardContext);\n  const [clickDel, setClickDel] = useState(false);\n  const [clickEdit, setClickEdit] = useState(false);\n\n  const onEdit = () => {\n    setClickEdit(true);\n  };\n\n  const onDelete = () => {\n    try {\n      fetch(`${process.env.REACT_APP_URL}/posts/${create.id}`, {method: 'DELETE'})\n        .then((response) => response)\n        .then((result) => setClickDel(true))\n        .catch((err) => console.log(err))\n    } catch (err) {\n      console.log(err);\n    }\n  };\n        \n  return (\n    <div className='list'>\n      <div className='card'>\n        <User />\n        <p className='content'>{create.content}</p>\n        <div className='control'>\n          <button className='btn' onClick={onEdit}>Изменить</button>\n          <button className='btn' onClick={onDelete}>Удалить</button>\n          {clickDel ? <Redirect to='/' /> : null}\n          {clickEdit ? <Redirect to='/posts/edit' /> : null}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport CardContext from '../context/CardContext';\n\nexport default function PostEdit() {\n  const create = useContext(CardContext);\n  const [value, setValue] = useState(create.content);\n  const [click, setClick] = useState(false);\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    if (!value.trim()) return;\n\n    const body = {id: create.id, content: value};\n        \n    try {\n      fetch(`${process.env.REACT_APP_URL}/posts`, { \n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      })\n      .then((response) => response)\n      .then((result) => {\n        setValue('');\n        setClick(true);\n      })\n      .catch((err) => console.log(err));\n    } catch (err) {\n      console.log(err);\n    }   \n  };\n\n  return (\n    <div className='postNew'>\n      <div className='postNew_wrap'>\n        <div className='postNew_header'>\n          <h2>Редактировать пост</h2>\n          <Link to={`/posts/${create.id}`} className='btn_close'>&#10006;</Link>\n        </div>\n        <form className='form' onSubmit={onSubmit}>\n          <textarea className='textarea' value={value} onChange={onChange}></textarea>\n          <button type='submit' className='btn'>Сохранить\n            {click ? <Redirect to='/' /> : null}\n          </button>\n        </form>\n      </div> \n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Posts from './components/Posts';\nimport PostNew from './components/PostNew';\nimport PostView from './components/PostView';\nimport CardContext from './context/CardContext';\nimport PostEdit from './components/PostEdit';\n\nexport default function App() {\n  const [create] = useState({id: null, content: '', created: false});\n\n  return (\n    <CardContext.Provider value={create}>\n      <Router>\n        <div className='container'>\n          <Switch>\n            <Route path='/posts/new' component={PostNew} />\n            <Route path='/posts/edit' component={PostEdit} />\n            <Route path='/posts/:id' component={PostView} />\n            <Route path='/' component={Posts} />\n          </Switch>\n        </div>\n      </Router>\n    </CardContext.Provider>  \n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}